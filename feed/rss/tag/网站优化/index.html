<?xml version="1.0" encoding="UTF-8"?>
<rdf:RDF
xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns="http://purl.org/rss/1.0/"
xmlns:dc="http://purl.org/dc/elements/1.1/">
<channel rdf:about="https://limbopro.xyz/feed/rss/tag/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">
<title>毒奶博主丨欢迎使用代理访问本站。 - 网站优化</title>
<link>https://limbopro.xyz/tag/网站优化/</link>
<description></description>
<items>
<rdf:Seq>
<rdf:li resource="https://limbopro.xyz/archives/TpCache.html"/>
</rdf:Seq>
</items>
</channel>
<item rdf:about="https://limbopro.xyz/archives/TpCache.html">
<title>TpCache-Typecho 缓存插件（配合Redis食用，800+并发支撑）</title>
<link>https://limbopro.xyz/archives/TpCache.html</link>
<dc:date>2019-12-29T21:51:00+08:00</dc:date>
<description>本文隶属于 网站优化 分类，点击分类名称查看更多相关主题；主理人说使用了TpCache+Redis组合以后，小伙伴纷纷反馈打开快到飞起。(你打开谷歌首页有多快，就有多快。TpCache项目地址：https://github.com/phpgao/TpCache功能减缓网站并发压力而开发的缓存插件。注意1.支持Memcache，Redis，Mysql三种驱动。2.非js方式的访问统计插件会失效。下载并启用TpCache插件1.进入TpCache的Github仓库，2.使用SSH登入服务器使用wget命令进行下载：$ wget https://github.com/phpgao/TpCache/archive/master.zip3.放入网站根目录/usr/plugins/文件夹下；4.解压压缩包，将文件夹重命名为TpCache；5.进入网站-控制台-插件-找到TpCache启用；*如未安装Memcache，RedisPHP扩展，可以使用MySQL驱动；6.设置好后，可以强制刷新下首页试试看效果；以上，如不想折腾redis则可到此结束，Enjoy。安装redis配合Redis食用，TpCache的性能应该是最佳的；博主的生产环境是Ubuntu server，按理说下面命令亦适合Redhat、SuSE、Debian、Centos等；源码编译安装Redis1.进入 Redis 官网：https://redis.io/2.找到最新 latest Stable version；3.目前是 5.0.7 http://download.redis.io/releases/redis-5.0.7.tar.gz ；$ cd /usr/src/ 
$ wget http://download.redis.io/releases/redis-5.0.7.tar.gz ##下载Redis最新稳定版
$ tar -zxvf redis-5.0.7.tar.gz ##解压
$ cd redis-5.0.7 
$ make &amp;&amp; make install ##编译与安装安装服务$ cd /usr/src/redis-5.0.7/utils/
$ ./install_server.sh默认配置Port           : 6379
Config file    : /etc/redis/6379.conf #配置文件
Log file       : /var/log/redis_6379.log #日志
Data dir       : /var/lib/redis/6379 #生产目录
Executable     : /usr/local/bin/redis-server #redis-serve 文件
Cli Executable : /usr/local/bin/redis-cli #redis-cli文件至此，Redis安装完毕，得到两个二进制文件；1.redis-server2.redis-cli安装成功之后可以通过以下命令查看redis的安装位置：（如果你忘记的话）$ which redis-server
$ which redis-cli编辑redis conf$ vi /etc/redis/6379.conf #redis的配置文件# By default Redis does not run as a daemon. Use 'yes' if you need it.
# Note that Redis will write a pid file in /var/run/redis.pid when daemonized.
daemonize no建议将no改为yes，表示改为后台启动（run as a daemon）；如需修改端口找到：# Accept connections on the specified port, default is 6379 (IANA #815344).
# If port 0 is specified Redis will not listen on a TCP socket.
port 6379 #修改端口即可查看redis版本$ redis-cli info | grep &quot;redis_version&quot;启动redis/usr/local/bin/redis-server /etc/redis/6379.conf获取使用帮助/usr/local/bin/redis-server -h #查看帮助常用指令Usage: 
./redis-server [/path/to/redis.conf] [options]
./redis-server - (read config from stdin)
./redis-server -v or --version
./redis-server -h or --help
./redis-server --test-memory &lt;megabytes&gt;

Examples:
./redis-server (run the server with default conf)
./redis-server /etc/redis/6379.conf
./redis-server --port 7777
./redis-server --port 7777 --replicaof 127.0.0.1 8888
./redis-server /etc/myredis.conf --loglevel verbose

Sentinel mode:
./redis-server /etc/sentinel.conf --sentine查看redis服务是否启动$ redis-cli
127.0.0.1:6379&gt; ping #输入ping
pong #反馈结果为pong则连接成功，服务正常；测试redis性能$ redis-benchmark -q -n 100000 #10w请求，带参数测试
PING_INLINE: 51255.77 requests per second
PING_BULK: 35803.80 requests per second
...
$ redis-benchmark #不带参数测试
====== GET ======
100000 requests completed in 2.19 seconds
50 parallel clients
3 bytes payload
keep alive: 1
...以上。安装 PHP redis扩展1.http://pecl.php.net/package/redis，安装所需版本（例如：redis-5.1.1.tgz ）$ cd /usr/src
$ wget http://pecl.php.net/get/redis-5.1.1.tgz
$ tar -zxvf redis-5.1.1.tgz
$ cd redis-5.1.1
$ /usr/local/php/bin/phpize #生成configure配置文件
$ ./configure --with-php-config=/usr/local/php/bin/php-config
$ make &amp;&amp; make install
$ find / -name &quot;php.ini&quot;
/usr/local/php/etc/php.ini
$ vi /usr/local/php/etc/php.ini
extension=redis.so #添加此配置
lnmp restart #重启服务 nginx为TpCache配置redis驱动1.驱动选择redis驱动2.选择你设置的端口；3.保存；总结两个必要，一个配置：1.源码安装redis，并启用redis 服务（确认端口能连接）；2.安装PHP redis扩展 并启用；3.插件配置，确保端口正确；以上。效用来自 Pagespeed的得分，突飞猛进；联系主理人1.关注频道 https://t.me/limboprossr 不失联；2.毒奶粉们（我管我的Fans）可联系 TG机器人 或发送 邮件 获取帮助；3.或点击本页面右下角的聊天按钮联系；</description>
</item>
</rdf:RDF>